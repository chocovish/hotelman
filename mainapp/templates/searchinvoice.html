{% extends 'master.html' %}

{% block content %}

<div class="container">
    <form action="" method="post" class="form-row">
        {% csrf_token %}
        <div class="form-group col-6">
            <label for="fromdate">From Date</label>
            <input type="date" class="form-control" id="fromdate" placeholder="From Date" name="fdate" required>
          </div>
          <div class="form-group col-6">
            <label for="todate">To Date</label>
            <input type="date" class="form-control" id="fromdate" placeholder="To Date" name="tdate" required>
          </div>
          <button class="btn btn-lg btn-primary px-5" type="submit">Search</button>
    </form>
</div>


{% if objects %}
<div class="container-fluid">
<table class="table table-striped table-sm table-hover table-bordered mt-4">
        <thead class="thead-dark">
            <th scope="col">#Invoice</th>
            <th scope="col">Name</th>
            <th scope="col">Comp Name</th>
            <th scope="col">Address</th>
            <th scope="col">Phone</th>
            <th scope="col">GSTIN</th>
            <th scope="col">#Room</th>
            <th scope="col">CheckIn</th>
            <th scope="col">CheckOut</th>
            <th scope="col"># Of days</th>
            <th scope="col">Price/Day</th>
            <th scope="col">Discount</th>
            <th scope="col">Total</th>
            <th scope="col">Is GST</th>

        </thead>
        <tbody>
            {% for obj in objects %}
            <tr scope="row">
                <td>{{obj.invoice_no}}</td>
                <td>{{obj.name}}</td>
                <td>{{obj.company_name}}</td>
                <td>{{obj.address}}</td>
                <td>{{obj.phone}}</td>
                <td>{{obj.gstin}}</td>
                <td>{{obj.room_no}}</td>
                <td>{{obj.check_in}}</td>
                <td>{{obj.check_out}}</td>
                <td>{{obj.days_count}}</td>
                <td>{{obj.rate}}</td>
                <td>{{obj.discount}}</td>
                <td>{{ obj.total_with_gst}}</td>
                <td>{{obj.is_gst}}</td>

            </tr>
            {% endfor %}
        </tbody>
    </table>
<h4 class="text-center">Grand Total: {{total}}</h4>
<h4 class="text-center">Total of GST Bills: {{wgst}}</h4>
<h4 class="text-center">Total of Non GST Bills: {{wogst}}</h4>
{% endif %}

</div>
{% endblock %}